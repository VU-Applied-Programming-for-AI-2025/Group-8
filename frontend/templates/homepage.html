{% extends "base.html" %}

{% block title %}Homepage - Symptoms Analyzer & Meal Recommendations{% endblock %}

{% block content %}

<div class="home-container">
    <h2>Welcome to NutriSpoon{% if response.fullname %}, {{ response.fullname }}{% endif %}</h2>

    <!-- ðŸ§¬ Symptoms Analyzer -->
    <h1>Symptoms Analyzer</h1>
    <form method="POST" action="/home" class="symptoms-form">
        <div class="input-with-button">
            <label for="symptoms" class="sr-only">Enter your symptoms:</label>
            <input type="text" id="symptoms" name="symptoms" placeholder="Enter your symptoms..." required>
            <button type="submit" class="analyze-button">
                <i class="fas fa-arrow-right"></i>
            </button>
        </div>
    </form>
    <section class="timeline-section section-padding" id="section_3">
        <div class="section-overlay"></div>
    
        <div class="container-custom">
            <div class="row-custom">
    
                <div class="col-center text-center">
                    <h2 class="text-white-custom mb-4-custom">How does it work?</h1>
                </div>
    
                <div class="col-content-center mx-auto-custom">
                    <div class="timeline-container">
                        <ul class="vertical-scrollable-timeline" id="vertical-scrollable-timeline">
                            <div class="list-progress">
                                <div class="inner"></div>
                            </div>
    
                            <li>
                                <h4 class="text-white-custom mb-3-custom">Tell us how you feel</h4>
    
                                <p class="text-white-custom">Select your current symptoms from categories like skin, mood, energy, digestion, and more. You can also provide extra details like allergies, dietary preferences (e.g., vegetarian or halal), and medications youâ€™re taking.</p>
    
                                <div class="icon-holder">
                                    <i class="bi-search"></i>
                                </div>
                            </li>
    
                            <li>
                                <h4 class="text-white-custom mb-3-custom">Smart analysis with AI</h4>
    
                                <p class="text-white-custom">Our system analyzes your symptoms using an AI model trained on medical knowledge. It estimates the likelihood of common nutrient deficiencies â€” like Iron, Vitamin D, B12, or Zinc â€” and presents your results in a clear, visual overview.</p>
    
                                <div class="icon-holder">
                                    <i class="bi-bookmark"></i>
                                </div>
                            </li>
    
                            <li>
                                <h4 class="text-white-custom mb-3-custom">Get personalized food &amp; recipe suggestions</h4>
    
                                <p class="text-white-custom">Based on your possible deficiencies and preferences, you'll get tailored food suggestions and simple recipe ideas rich in the nutrients your body might be lacking.</p>
    
                                <div class="icon-holder">
                                    <i class="bi-book"></i>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
    
                <div class="col-center text-center mt-5-custom">
                    <p class="text-white-custom">
                        Ready to check your nutrients?
                        <a href="#" class="btn-custom custom-btn custom-border-btn ms-3-custom">Start the Test</a>
                    </p>
                </div>
            </div>
        </div>
    </section>
    <section class="faq-section section-padding" id="section_4">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <h2 class="mb-4">Frequently Asked Questions</h2>
                </div>
            </div>
            <div class="row">
                <div class="clearfix"></div>
    
                <div class="col-lg-6 col-md-6 col-sm-12">
                    <img src="{{ url_for('static', filename='faq_image.png') }}" class="img-fluid faq-image" alt="FAQs">
                </div>
    
                <div class="col-lg-6 col-md-6 col-sm-12 faq-content">
                    <div class="custom-accordion" id="customAccordion">
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingOne">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                    Can I trust the results of this test?
                                </button>
                            </h2>
                            <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#customAccordion">
                                <div class="accordion-body">
                                    Our tool analyzes your symptoms using AI based on scientifically informed associations between symptoms and nutrient deficiencies. While it can highlight possible imbalances, <strong>it is not a medical diagnosis</strong>. For health concerns or treatments, please consult a healthcare professional.
                                </div>
                            </div>
                        </div>
    
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingTwo">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                    Can I get food suggestions that match my diet?
                                </button>
                            </h2>
                            <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#customAccordion">
                                <div class="accordion-body">
                                    <strong>Yes!</strong> You can set your dietary preferences â€” such as vegetarian, halal, or allergy restrictions â€” before starting the test. The food and recipe recommendations will be personalized to match your selected needs.
                                </div>
                            </div>
                        </div>
    
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingThree">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                    Can I retake the test later if my symptoms change?
                                </button>
                            </h2>
                            <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#customAccordion">
                                <div class="accordion-body">
                                    <strong>Absolutely!</strong> The test can be repeated anytime. If your symptoms change or you just want to double-check your results, you're welcome to retake it for fresh suggestions.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section id="section_5" class="section-padding nutrient-periodical-table-section">
        <div class="container">
            <h2 class="text-center mb-4 text-primary-color">Explore Key Nutrients</h2>
            <p class="text-center mb-5 text-secondary-color">Click on a nutrient to learn more about its benefits and sources.</p>
            <div class="nutrient-grid">
                {% for nutrient in nutrients_info %}
                <a href="{{ url_for('nutrients') }}?nutrient={{ nutrient }}" class="nutrient-card">
                    <i class="fas {{ nutrients_info[nutrient].icon }} nutrient-icon"></i>
                    <span class="nutrient-name">{{ nutrient }}</span>
                </a>
                {% endfor %}
            </div>
        </div>
    </section>
</div>
{% endblock %}
