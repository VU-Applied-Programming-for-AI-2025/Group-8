{% extends "base.html" %}

{% block title %}Your Favorites - NutriSpoon{% endblock %}

{% block content %}
<div class="card">
    <h1 class="card-title">Your Saved Recipes</h1>
    {% if recipes %}
    <p>You have {{ recipes|length }} saved recipe(s)</p>
    {% endif %}
</div>

{% if recipes %}
<div class="recipe-grid">
    {% for recipe in recipes %}
    <div class="recipe-card">
        <img src="{{ recipe.image }}" alt="{{ recipe.title }}" class="recipe-img">
        <div class="recipe-body">
            <h3 class="recipe-title">{{ recipe.title }}</h3>
            <div style="display: flex; gap: 0.5rem; margin-top: 0.5rem;">
                <a href="{{ url_for('recipe_details', recipe_id=recipe.id) }}" class="btn">View Details</a>
                <form method="POST" action="/remove_favorite/{{ recipe.id }}" style="display: inline;">
                    <button type="submit" class="btn btn-accent">Remove</button>
                </form>
            </div>
        </div>
    </div>
    {% endfor %}
</div>

<div class="card" style="text-align: center; margin-top: 2rem;">
    <form method="POST" action="/recommendations/mealplanner/create_from_favorites">
        <input type="hidden" name="planName" value="My Favorite Recipes">
        <input type="hidden" name="timeFrame" value="week">
        <button type="submit" class="btn btn-accent">Create Meal Plan From These Recipes</button>
    </form>
</div>
{% else %}
<div class="card">
    <p>You haven't saved any recipes yet.</p>
    <a href="/recommendations" class="btn">Browse Recipes</a>
</div>
{% endif %}
{% endblock %}