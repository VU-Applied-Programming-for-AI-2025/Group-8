{% extends "base.html" %}

{% block title %}{{ recipe.title }} Details{% endblock %}

{% block content %}

<div class="recipe-container">
    <h1>{{ recipe.title }}</h1>

    <img src="{{ recipe.image }}" alt="{{ recipe.title }}">

    <h2>Ingredients</h2>
    <ul>
        {% for ingredient in recipe['extendedIngredients'] %}
        <li>{{ ingredient.original }}</li>
        {% endfor %}
    </ul>

    <h2>Nutrition</h2>
    <ul>
        {% for nutrient in recipe['nutrition']['nutrients'] %}
        <li>{{ nutrient.name }}: {{ nutrient.amount }}{{ nutrient.unit }}</li>
        {% endfor %}
    </ul>

    <h2>Instructions</h2>
    <div class="instructions">
        {% if recipe["Instructions"] %}
            {{ recipe["Instructions"] | safe }}
        {% elif recipe.analyzedInstructions and recipe.analyzedInstructions[0].steps %}
        <ol>
            {% for step in recipe.analyzedInstructions[0].steps %}
            <li>{{ step.step }}</li>
            {% endfor %}
        </ol>
        {% else %}
        <p>No instructions for this recipe.</p>
        {% endif %}
    </div>
</div>
{% endblock %}
